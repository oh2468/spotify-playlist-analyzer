{% extends 'base.html' %}

{% block header %}
<h1>{% block title %}Artist{% endblock %} results for: <span id="search-query">{{ data.artist.name }}</span></h1>
<h2 class="artist-info">Visit them on spotify: 
    <a href="{{ data.artist.external_urls.spotify }}" rel="noreferrer" target="_blank">FOLLOW THEM</a>
     and join the other <span>{{ data.artist.followers.total }}</span> artist followers.
</h2>
{% endblock %}

{% block content %}
<div class="tab-area">
    <div class="tab-buttons">
        <button class="tab-button active">Top tracks</button>
        <button class="tab-button">Albums</button>
        <button class="tab-button">Singles</button>
        <button class="tab-button">Compilations</button>
        <button class="tab-button">Appears on ({{ data.appears_on|length }} of {{ data.appears_on_total }})</button>
        <button class="tab-button">Related artists</button>
    </div>
    
    <div class="tab-content">
        <div class="tab-page">
            <table id="top-tracks">
                {% with results = data["top_tracks"] %}
                    {% include "data_tables/track.html" %}
                {% endwith %}
            </table>
        </div>
        
        <div class="tab-page hide" id="arist-albums">
            <table id="artist-albums-table">
                {% with results = data["albums"] %}
                    {% include "data_tables/album.html" %}
                {% endwith %}
            </table>
        </div>
        
        <div class="tab-page hide" id="artist-singles">
            <table>
                {% with results = data["singles"] %}
                    {% include "data_tables/album.html" %}
                {% endwith %}
            </table>
        </div>
        
        <div class="tab-page hide" id="artist-compilations">
            <table>
                {% with results = data["compilations"] %}
                    {% include "data_tables/album.html" %}
                {% endwith %}
            </table>
        </div>
        
        <div class="tab-page hide" id="artist_appears_on">
            <table>
                {% with results = data["appears_on"] %}
                    {% include "data_tables/album.html" %}
                {% endwith %}
            </table>
            <form action="/load-more" class="load-more-form">
                <input type="text" name="next-page" class="hide" value="{{ data.next }}">
                <input type="text" name="next-type" class="hide" value="album">
                <button>Load More</button>
            </form>
        </div>

        <div class="tab-page hide" id="related_artists">
            <table>
                {% with results = data["related_artists"] %}
                    {% include "data_tables/artist.html" %}
                {% endwith %}
            </table>
        </div>
    </div>
</div>
{% endblock %}
